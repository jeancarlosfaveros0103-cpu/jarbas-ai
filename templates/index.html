<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarbas AI</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">

        <!-- BOLINHA / ORB -->
        <div id="orb">
            <span class="wave w1"></span>
            <span class="wave w2"></span>
            <span class="wave w3"></span>
        </div>

        <!-- CHAT -->
        <div id="chat">
            <input 
                id="msg" 
                type="text" 
                placeholder="Fale com o Jarbas..."
            >
            <button id="send">➤</button>
        </div>

    </div>

    <script>
        const btn = document.getElementById("send");
        const input = document.getElementById("msg");
        const orb = document.getElementById("orb");

        function falar(texto) {
            orb.classList.add("speaking");

            const voz = new SpeechSynthesisUtterance(texto);
            voz.lang = "pt-BR";
            voz.rate = 1;
            voz.pitch = 0.9;
            voz.volume = 1;

            voz.onend = () => {
                orb.classList.remove("speaking");
            };

            speechSynthesis.cancel();
            speechSynthesis.speak(voz);
        }

        btn.addEventListener("click", () => {
            if (input.value.trim() === "") return;

            // resposta de teste do Jarbas
            setTimeout(() => {
                falar(
                    "Olá. Eu sou o Jarbas. Essas ondas reagem enquanto eu falo com você."
                );
            }, 300);

            input.value = "";
        });

        input.addEventListener("keypress", (e) => {
            if (e.key === "Enter") {
                btn.click();
            }
        });
    </script>

</body>
</html>
